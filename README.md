Use sorted array to check unuqueness, initial unsorted array, and array of mapping of indexes.
